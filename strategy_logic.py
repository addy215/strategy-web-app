def generate_all_strategies(symbol, df):
    # ç®€å•é€»è¾‘ç¤ºä¾‹ï¼Œäº”ç§é£æ ¼å…±ç”¨å½“å‰ä»·æ ¼
    close = df['close'].iloc[-1]

    strategies = {
        "è¶…çŸ­çº¿âš¡": {
            "å»ºè®®æŒä»“": "å‡ åˆ†é’Ÿåˆ°1å°æ—¶",
            "è§£é‡Š": "æ— æ˜æ˜¾ä¿¡å·",
            "æ–¹å‘": "åšå¤šğŸŸ¢",
            "å…¥åœº": round(close * 0.99, 3),
            "ç›®æ ‡": round(close * 1.03, 3),
            "æ­¢æŸ": round(close * 0.985, 3),
            "æ­¢æŸæ¯”": "1.5%",
            "é£é™©å›æŠ¥": "2.0"
        },
        "çŸ­æœŸæŠ•æœºğŸš€": {
            "å»ºè®®æŒä»“": "1å°æ—¶åˆ°4å°æ—¶",
            "è§£é‡Š": "æ— æ˜æ˜¾ä¿¡å·",
            "æ–¹å‘": "åšå¤šğŸŸ¢",
            "å…¥åœº": round(close * 0.99, 3),
            "ç›®æ ‡": round(close * 1.05, 3),
            "æ­¢æŸ": round(close * 0.96, 3),
            "æ­¢æŸæ¯”": "3.0%",
            "é£é™©å›æŠ¥": "1.67"
        },
        "å°æ³¢æ®µğŸŒŠ": {
            "å»ºè®®æŒä»“": "4å°æ—¶åˆ°1å¤©",
            "è§£é‡Š": "æ— æ˜æ˜¾ä¿¡å·",
            "æ–¹å‘": "åšå¤šğŸŸ¢",
            "å…¥åœº": round(close * 0.99, 3),
            "ç›®æ ‡": round(close * 1.1, 3),
            "æ­¢æŸ": round(close * 0.95, 3),
            "æ­¢æŸæ¯”": "5.0%",
            "é£é™©å›æŠ¥": "2.0"
        },
        "æ³¢æ®µğŸ„": {
            "å»ºè®®æŒä»“": "1å¤©åˆ°3å¤©",
            "è§£é‡Š": "æ— æ˜æ˜¾ä¿¡å·",
            "æ–¹å‘": "åšç©ºğŸ”´",
            "å…¥åœº": round(close * 1.01, 3),
            "ç›®æ ‡": round(close * 0.8, 3),
            "æ­¢æŸ": round(close * 1.1, 3),
            "æ­¢æŸæ¯”": "10.0%",
            "é£é™©å›æŠ¥": "2.0"
        },
        "é•¿çº¿ğŸŒ³": {
            "å»ºè®®æŒä»“": "3å¤©ä»¥ä¸Š",
            "è§£é‡Š": "æ— æ˜æ˜¾ä¿¡å·",
            "æ–¹å‘": "åšç©ºğŸ”´",
            "å…¥åœº": round(close * 1.01, 3),
            "ç›®æ ‡": round(close * 0.6, 3),
            "æ­¢æŸ": round(close * 1.2, 3),
            "æ­¢æŸæ¯”": "20.0%",
            "é£é™©å›æŠ¥": "2.0"
        }
    }

    return {"ç­–ç•¥": strategies}


def smart_contract_signal(df, tf):
    """
    ç®€åŒ–ç‰ˆå¤šç©ºä¿¡å·åˆ†æï¼šæ ¹æ®å‡çº¿åˆ¤æ–­
    """
    close = df['close']
    ma_short = close.rolling(window=5).mean()
    ma_long = close.rolling(window=20).mean()

    if ma_short.iloc[-1] > ma_long.iloc[-1]:
        direction = "long"
        entry = round(close.iloc[-1] * 0.995, 3)
        tp = round(close.iloc[-1] * 1.02, 3)
        sl = round(close.iloc[-1] * 0.985, 3)
        reason = "å‡çº¿å¤šå¤´æ’åˆ—ï¼›å»ºè®®æŒä»“ï¼š" + time_frame_hold_time(tf)
    else:
        direction = "short"
        entry = round(close.iloc[-1] * 1.005, 3)
        tp = round(close.iloc[-1] * 0.98, 3)
        sl = round(close.iloc[-1] * 1.015, 3)
        reason = "å‡çº¿ç©ºå¤´æ’åˆ—ï¼›å»ºè®®æŒä»“ï¼š" + time_frame_hold_time(tf)

    return direction, entry, tp, sl, reason


def time_frame_hold_time(tf):
    mapping = {
        "1m": "å‡ åˆ†é’Ÿ",
        "5m": "10åˆ†é’Ÿåˆ°1å°æ—¶",
        "15m": "30åˆ†é’Ÿåˆ°2å°æ—¶",
        "1h": "1å°æ—¶åˆ°4å°æ—¶",
        "4h": "4å°æ—¶åˆ°1å¤©",
        "1d": "1å¤©ä»¥ä¸Š"
    }
    return mapping.get(tf, "æœªçŸ¥å‘¨æœŸ")
